knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(naniar)
deserts <- read_csv("data/surveys_complete.csv") %>% clean_names()
glimpse(deserts)
View(deserts)
str(deserts)
deserts %>%
deserts %>%
count(genus, sort = T)
deserts %>%
count(species, sort = T)
deserts %>%
group_by(species) %>%
summarise(n_samples = n()) %>%
arrange(n_samples)
deserts %>%
group_by(species) %>%
summarise(n_samples = n()) %>%
arrange(desc(n_samples))
deserts %>%
ggplot(aes(x = taxa))+
geom_bar()+
scale_y_log10()+
deserts %>%
ggplot(aes(x = taxa))+
geom_bar()+
scale_y_log10()
deserts %>%
tabyl(taxa)
deserts %>%
ggplot(aes(x = taxa, y = plot_type))+
geom_bar(position = "dodge")+
scale_y_log10()
deserts %>%
ggplot(aes(x = taxa, fill = plot_type))+
geom_bar(position = "dodge")+
scale_y_log10()
names(deserts)
deserts %>%
filter(weight != "NA") %>%
ggplot(aes(x = species, y = weight))+
geom_boxplot()+
coord_flip()
deserts %>%
filter(weight != "NA") %>%
ggplot(aes(x = species, y = weight))+
geom_boxplot()+
geom_point()+
coord_flip()
deserts %>%
filter(species_id == "DM")
deserts %>%
filter(species_id == "DM") %>%
group_by(year) %>%
summarise(n_samples = n()) %>%
ggplot(aes(x = as.factor(year), y = n_samples))+
geom_col()
deserts %>%
filter(species_id == "DM") %>%
group_by(year) %>%
summarise(n_samples = n()) %>%
ggplot(aes(x = as.factor(year), y = n_samples))+
geom_col()+
theme(axis.text.x = element_text(angle = 40, hjust = 1))
deserts %>%
ggplot(aes(x = hindfoot_length, y = weight))+
geom_point()+
geom_smooth(method = lm, se = F)
deserts %>%
filter(weight != "NA") %>%
ggplot(aes(x = hindfoot_length, y = weight))+
geom_point()+
geom_smooth(method = lm, se = T, na.rm = T)
deserts %>%
filter(weight != "NA") %>%
ggplot(aes(x = hindfoot_length, y = weight))+
geom_point(size= 0.2, na.rm = T)+
geom_smooth(method = lm, se = T, na.rm = T)
deserts %>%
group_by(species) %>%
filter(!is.na(weight)) %>%
summarise(mean_weight = mean(weight, na.rm = T)) %>%
arrange(desc(mean_weight))
deserts %>%
filter(species_id == "NL" | species_id == "DS") %>%
filter(weight!="NA" & hindfoot_length !="NA" & sex !="NA") %>%
mutate(ratio= weight/hindfoot_length) %>%
select(species_id, sex, weight, hindfoot_length, ratio) %>%
ggplot(aes(x=species_id, y= ratio, fill =sex)) +
geom_boxplot()
deserts %>%
ggplot(aes(x = weight, y = sex, fill = taxa ))+
geom_col()+
coord_flip()+
labs(title = "Weight by Sex for Taxa")
deserts %>%
ggplot(aes(x = weight, y = sex, fill = genus ))+
geom_col()+
coord_flip()+
labs(title = "Weight by Sex for Genus")
deserts %>%
filter( sex != "NA") %>%
ggplot(aes(x = weight, y = sex, fill = genus ))+
geom_col()+
coord_flip()+
labs(title = "Weight by Sex for Genus")
