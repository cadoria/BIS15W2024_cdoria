knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(skimr)
library(naniar)
amniota <- read_csv("data/amniota.csv") %>% clean_names()
amphibio <- read_csv("data/amphibio.csv")
dim(amniota)
str(amniota)
dim(amphibio)
str(amphibio)
miss_var_summary(amniota)
miss_var_summary(amphibio)
miss_var_summary(amphibio)
amphibio <- read_csv("data/amphibio.csv") %>% clean_names()
miss_var_summary(amphibio)
naniar::miss_var_summary(life_historyamniota)
naniar::miss_var_summary(amniota)
naniar::miss_var_summary(amphibio))
naniar::miss_var_summary(amphibio)
amniota %>%
summarize_all(~sum(is.na(.)))
amphibio %>%
summarise_all(~sum(is.na(.)))
amniota_clean <- amniota %>%
na_if("-999")
amniota_clean <- amniota %>%
na_if(-999)
amniota_clean <- amniota %>%
mutate_all(~na_if(.,-999))
naniar::miss_var_summary(amphibio)
amniota %>%
na_if(-999)
glimpse(amniota)
amniota <- mutate_all(amniota, as.numeric)
amniota %>%
count(egg_mass_g, sort = T)
amphibio %>%
select("Fos", "Ter", "Aqu", "Arb") %>%
summarise_all(~(sum(is.na(.))))
names(amphibio)
amphibio %>%
select("fos", "ter", "aqu", "arb") %>%
summarise_all(~(sum(is.na(.))))
amniota %>%
select(class, egg_mass_g) %>%
summarise_all(~sum(is.na(.)))
amniota_tidy <- amniota %>%
replace_with_na(replace = list(litters_or_clutches_per_y = -999,
no_sex_maturity_d = -999,
no_sex_svl_cm = -999,
female_body_mass_at_maturity_g= -999,
birth_or_hatching_svl_cm= -999,
female_svl_cm = -999,
male_svl_cm= -999,
adult_svl_cm= -999,
fledging_mass_g = -999,
egg_length_mm = -999,
egg_width_mm  = -999,
no_sex_body_mass_g = -999,
inter_litter_or_interbirth_interval_y = -999,
male_maturity_d= -999,
longevity_y = -999,
fledging_age_d= -999,
incubation_d = -999,
egg_mass_g = -999,
weaning_weight_g = -999,
birth_or_hatching_weight_g  = -999,
weaning_d= -999,
gestation_d= -999,
maximum_longevity_y = -999,
litter_or_clutch_size_n = -999,
subspecies = -999,
female_maturity_d= -999)) %>%
miss_var_summary()
amniota_tidy %>%
select(class, egg_mass_g) %>%
summarise_all(~sum(is.na(.)))
amniota %>%
select(class, egg_mass_g) %>%
summarise_all(~sum(is.na(.)))
View(amphibio)
View(amniota_tidy)
anyNA(amniota_tidy$egg_mass_g)
View(amniota)
amniota <- read_csv("data/amniota.csv") %>% clean_names()
View(amniota)
glimpse(amniota)
amniota %>%
summarize_all(~sum(is.na(.)))
amniota_tidy <- amniota %>%
replace_with_na(replace = list(litters_or_clutches_per_y = -999,
no_sex_maturity_d = -999,
no_sex_svl_cm = -999,
female_body_mass_at_maturity_g= -999,
birth_or_hatching_svl_cm= -999,
female_svl_cm = -999,
male_svl_cm= -999,
adult_svl_cm= -999,
fledging_mass_g = -999,
egg_length_mm = -999,
egg_width_mm  = -999,
no_sex_body_mass_g = -999,
inter_litter_or_interbirth_interval_y = -999,
male_maturity_d= -999,
longevity_y = -999,
fledging_age_d= -999,
incubation_d = -999,
egg_mass_g = -999,
weaning_weight_g = -999,
birth_or_hatching_weight_g  = -999,
weaning_d= -999,
gestation_d= -999,
maximum_longevity_y = -999,
litter_or_clutch_size_n = -999,
subspecies = -999,
female_maturity_d= -999)) %>%
miss_var_summary()
anyNA(amniota_tidy$egg_mass_g)
anyNA(amniota$egg_mass_g)
View(amniota)
View(amniota_tidy)
amniota_tidy %>%
group_by(class$) %>%
amniota %>%
filter(class == "Aves", "Mammalia", "Reptilia") %>%
summarise_all(~sum(is.na(.)))
amniota %>%
filter(class = "Aves", "Mammalia", "Reptilia") %>%
summarise_all(~sum(is.na(.)))
amniota_egg_mass <- amniota %>%
select(class, egg_mass_g) %>%
group_by(class) %>%
summarise_all(~sum(is.na(.)))
View(amniota_egg_mass)
amniota_egg_mass <- amniota_tidy %>%
select(class, egg_mass_g) %>%
group_by(class) %>%
summarise_all(~sum(is.na(.)))
View(amniota_tidy)
amniota_tidy <- amniota %>%
replace_with_na(replace = list(litters_or_clutches_per_y = -999,
no_sex_maturity_d = -999,
no_sex_svl_cm = -999,
female_body_mass_at_maturity_g= -999,
birth_or_hatching_svl_cm= -999,
female_svl_cm = -999,
male_svl_cm= -999,
adult_svl_cm= -999,
fledging_mass_g = -999,
egg_length_mm = -999,
egg_width_mm  = -999,
no_sex_body_mass_g = -999,
inter_litter_or_interbirth_interval_y = -999,
male_maturity_d= -999,
longevity_y = -999,
fledging_age_d= -999,
incubation_d = -999,
egg_mass_g = -999,
weaning_weight_g = -999,
birth_or_hatching_weight_g  = -999,
weaning_d= -999,
gestation_d= -999,
maximum_longevity_y = -999,
litter_or_clutch_size_n = -999,
subspecies = -999,
female_maturity_d= -999)) %>%
miss_var_summary()
amniota_egg_mass <- amniota %>%
select(class, egg_mass_g) %>%
group_by(class) %>%
summarise_all(~sum(is.na(.)))
naniar::miss_var_summary(amniota_tidy)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(skimr)
library(naniar)
amniota <- read_csv("data/amniota.csv") %>% clean_names()
amphibio <- read_csv("data/amphibio.csv") %>% clean_names()
amniota_tidy <- amniota %>%
replace_with_na_all(condition = ~.x == -999)
amniota_egg_mass <- amniota_tidy %>%
select(class, egg_mass_g) %>%
group_by(class) %>%
summarise_all(~sum(is.na(.)))
View(amniota_egg_mass)
amniota <- read_csv("data/amniota.csv", na = c("-999"))
amniota <- read_csv("data/amniota.csv", na = c(-999))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(here)
library(naniar)
colleges <- read_csv("data/ca_college_data.csv") %>% clean_names()
colleges %>%
group_by(city) %>%
summarise(sum_cities = sum(istnm, na.rm = T))
names(colleges)
View(colleges)
colleges %>%
group_by(city) %>%
summarise(sum_cities = sum(instnm, na.rm = T))
colleges %>%
group_by(city) %>%
summarise(sum_cities = n_distinct(instnm)))
colleges %>%
group_by(city) %>%
summarise(sum_cities = n_distinct(instnm))
colleges %>%
group_by(city) %>%
summarise(sum_cities = n_distinct(instnm)) %>%
arrange(desc(sum_cities))
colleges %>%
group_by(city) %>%
summarise(max_ccollege = n_distinct(instnm)) %>%
arrange(desc(max_college))
colleges %>%
group_by(city) %>%
summarise(max_college = n_distinct(instnm)) %>%
arrange(desc(max_college))
colleges %>%
group_by(city) %>%
summarise(max_college = n_distinct(instnm)) %>%
top_n(-10)
colleges %>%
group_by(city) %>%
summarise(max_college = n_distinct(instnm)) %>%
arrange(desc(max_college)) %>%
top_n(-10)
colleges %>%
group_by(city) %>%
summarise(max_college = n_distinct(instnm)) %>%
arrange(desc(max_college)) %>%
top_n(-10, max_college)
colleges %>%
select(city, instnm) %>%
top_n(-10, city) %>%
ggplot(aes(x= city, y = instnm))+
geom_col()+
coord_flip()
colleges %>%
select(city, instnm) %>%
top_n(-10, city) %>%
ggplot(aes(x= city, y = instnm))+
geom_col()+
colleges %>%
select(city, instnm) %>%
top_n(-10, city) %>%
ggplot(aes(x= city, y = instnm))+
geom_col()
colleges %>%
count(city, sort = T) %>%
top_n(-10, city) %>%
ggplot(aes(x= city, y = n))+
geom_col()
colleges %>%
count(city, sort = T) %>%
top_n(-10, count) %>%
ggplot(aes(x= city, y = n))+
geom_col()
colleges %>%
count(city, sort = T) %>%
top_n(-10, wt = n) %>%
ggplot(aes(x= city, y = n))+
geom_col()
colleges %>%
count(city, sort = T) %>%
top_n(-10, wt = n) %>%
ggplot(aes(x= factor(city, levels = unique(city)), y = n))+
geom_col()
colleges %>%
count(city) %>%
top_n(10, n) %>%
ggplot(aes(x= reorder(city, n), y = n))+
geom_col()+
coord_flip()
colleges %>%
group_by(city) %>%
summarise(mean_cost = mean(costt4_a)) %>%
arrange(desc(mean_cost))
colleges %>%
group_by(city) %>%
summarise(mean_cost = mean(costt4_a, na.rm = T)) %>%
arrange(desc(mean_cost))
colleges %>%
group_by(city, instnm) %>%
summarise(mean_cost = mean(costt4_a, na.rm = T)) %>%
arrange(desc(mean_cost))
colleges %>%
group_by(city) %>%
summarise(mean_cost = mean(costt4_a, na.rm = T)) %>%
arrange(desc(mean_cost))
colleges %>%
group_by(city, stabbr) %>%
summarise(mean_cost = mean(costt4_a, na.rm = T)) %>%
arrange(desc(mean_cost))
colleges %>%
group_by(city, stabbr, instnm) %>%
summarise(mean_cost = mean(costt4_a, na.rm = T)) %>%
arrange(desc(mean_cost))
colleges %>%
group_by(city, stabbr) %>%
summarise(mean_cost = mean(costt4_a, na.rm = T)) %>%
arrange(desc(mean_cost))
colleges %>%
filter(city == "Claremont" & "Davis") %>%
group_by(instnm) %>%
summarise(exp_college = max(instnm))
colleges %>%
count(city) %>%
top_n(10, n) %>%
ggplot(aes(x= reorder(city, n), y = n))+
geom_col()+
coord_flip()+
labs(title= "Top 10 Cities with highest num of Colleges")
colleges %>%
count(city) %>%
top_n(10, n) %>%
ggplot(aes(x= reorder(city, n), y = n))+
geom_col()+
coord_flip()+
labs(title= "Top 10 Cities with Highest Number of Colleges")
colleges %>%
filter(city == "Claremont" & "Davis", costt4_a) %>%
ggplot(aes(x = reorder(instnm, costt4_a), y = costt4_a))+
geom_col()+
coord_flip()
colleges %>%
filter(city == "Claremont", city == "Davis", costt4_a) %>%
ggplot(aes(x = reorder(instnm, costt4_a), y = costt4_a))+
geom_col()+
coord_flip()
colleges %>%
filter(city == "Claremont"| city == "Davis", costt4_a) %>%
ggplot(aes(x = reorder(instnm, costt4_a), y = costt4_a))+
geom_col()+
coord_flip()
colleges %>%
filter(city %in% c("Claremont","Davis") %>%
ggplot(aes(x = reorder(instnm, costt4_a), y = costt4_a))+
geom_col()+
coord_flip()
colleges %>%
filter(city %in% c("Claremont","Davis")) %>%
ggplot(aes(x = reorder(instnm, costt4_a), y = costt4_a))+
geom_col()+
coord_flip()
colleges %>%
filter(city %in% c("Claremont","Davis") & !is.na(costt4_a)) %>%
ggplot(aes(x = reorder(instnm, costt4_a), y = costt4_a))+
geom_col()+
coord_flip()
colleges %>%
ggplot(aes(x = adm_rate, y= c150_4_pooled))+
geom_point()
colleges %>%
filter(!is.na(adm_rate), !is.na(c150_4_pooled)) %>%
ggplot(aes(x = adm_rate, y= c150_4_pooled))+
geom_point()
colleges %>%
filter(!is.na(adm_rate), !is.na(c150_4_pooled)) %>%
ggplot(aes(x = adm_rate, y= c150_4_pooled))+
geom_smooth(method = lm, se = T)+
geom_point()
colleges %>%
filter(!is.na(adm_rate), !is.na(c150_4_pooled)) %>%
ggplot(aes(x = adm_rate, y= c150_4_pooled))+
geom_smooth(method = lm, se = T)+
geom_point()+
labs(title = "Admission Rate v. 4-Yr Completion Rate")
colleges %>%
ggplot(aes(x = costt4_a, y = c150_4_pooled))+
geom_point(na.rm = T)+
geom_smooth(methon = lm, se = T)+
labs(title= "Cost v. 4-Yr Completion Rate")
colleges %>%
ggplot(aes(x = costt4_a, y = c150_4_pooled))+
geom_point(na.rm = T)+
geom_smooth(method = lm, se = T)+
labs(title= "Cost v. 4-Yr Completion Rate")
colleges %>%
ggplot(aes(x = costt4_a, y = c150_4_pooled))+
geom_point(na.rm = T)+
geom_smooth(method = lm, se = T, na.rm = T)+
labs(title= "Cost v. 4-Yr Completion Rate")
uc_only <- colleges %>%
filter(contains("University of California"))
uc_only <- colleges %>%
select(contains("University of California"))
View(uc_only)
uc_only <- colleges %>%
filter_all(any_vars(str_detect(.,pattern = "University of California")))
View(uc_only)
univ_calif_final <- uc_only %>%
filter(instnm != "University of California-Hastings College of Law", instnm != "University of California-San Francisco")
View(univ_calif_final)
univ_calif_final %>%
separate(col = instnm, into = c("UNIV", "CAMPUS"), sep = "-")
univ_calif_final %>%
group_by(adm_rate) %>%
summarise(highest_adm = max(adm_rate),
lowest_adm = min(adm_rate))
univ_calif_final %>%
group_by(instnm) %>%
summarise(highest_adm = max(adm_rate),
lowest_adm = min(adm_rate))
univ_calif_final %>%
group_by(campus) %>%
summarise(highest_adm = max(adm_rate),
lowest_adm = min(adm_rate))
univ_calif_final %>%
group_by(CAMPUS) %>%
summarise(highest_adm = max(adm_rate),
lowest_adm = min(adm_rate))
univ_calif_final %>%
summarise(campus, adm_rate) %>%
arrange(desc(adm_rate))
names(univ_calif_final)
univ_calif_final <- univ_calif_final %>%
separate(col = instnm, into = c("UNIV", "CAMPUS"), sep = "-")
names(univ_calif_final)
univ_calif_final %>%
summarise(campus, adm_rate) %>%
arrange(desc(adm_rate))
univ_calif_final %>%
summarise(CAMPUS, adm_rate) %>%
arrange(desc(adm_rate))
univ_calif_final %>%
summarise(CAMPUS, adm_rate) %>%
arrange(desc(adm_rate)) %>%
ggplot(aes(x = CAMPUS, y = adm_rate))+
geom_col()+
labs(title = "Admission Rate of UC Colleges")
univ_calif_final %>%
summarise(CAMPUS, adm_rate) %>%
arrange(desc(adm_rate)) %>%
ggplot(aes(x = CAMPUS, y = adm_rate))+
geom_col()+
coord_flip()+
labs(title = "Admission Rate of UC Colleges")
univ_calif_final %>%
summarise(CAMPUS, adm_rate) %>%
ggplot(aes(x = CAMPUS, y = adm_rate))+
geom_col()+
coord_flip()+
labs(title = "Admission Rate of UC Colleges")
#PCIP26: Percentage of degrees awarded in Biological And Biomedical Sciences
univ_calif_final %>%
summarise(CAMPUS, pcip26) %>%
ggplot(aes(x = CAMPUS, y = pcip26))+
geom_col()+
coord_flip()
#PCIP26: Percentage of degrees awarded in Biological And Biomedical Sciences
univ_calif_final %>%
summarise(CAMPUS, pcip26) %>%
ggplot(aes(x = reorder(CAMPUS,pcip26), y = pcip26))+
geom_col()+
coord_flip()
#PCIP26: Percentage of degrees awarded in Biological And Biomedical Sciences
univ_calif_final %>%
summarise(CAMPUS, pcip26) %>%
ggplot(aes(x = reorder(CAMPUS,pcip26), y = pcip26))+
geom_col()+
labs(title = "UC Degrees Awarded in Biological And Biomedical Sciences")
#PCIP26: Percentage of degrees awarded in Biological And Biomedical Sciences
univ_calif_final %>%
summarise(CAMPUS, pcip26) %>%
ggplot(aes(x = reorder(CAMPUS,pcip26), y = pcip26))+
geom_col()+
coord_flip()+
labs(title = "UC Degrees Awarded in Biological And Biomedical Sciences")
colleges %>%
filter(city %in% c("Claremont","Davis") & !is.na(costt4_a)) %>%
ggplot(aes(x = reorder(instnm, costt4_a), y = costt4_a))+
geom_col()+
