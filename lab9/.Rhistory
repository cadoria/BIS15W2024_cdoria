library("tidyverse")
library("janitor")
library("naniar")
#sharks <- read_csv("data/SharkIncidents_1950_2022_220302.csv") %>% clean_names()
getwd()
sharks <- read_csv("data/SharkIncidents_1950_2022_220302.csv") %>% clean_names()
glimpse(sharks)
View(sharks)
head(sharks)
names(sharks)
sharks %>%
group_by(county) %>%
summarise(sum_incidents = sum(incident_num))
sharks %>%
group_by(county, na.rm = T) %>%
summarise(sum_incidents = sum(incident_num))
sharks %>%
group_by(county, na.rm = T) %>%
summarise(sum_incidents = sum(incident_num, na.rm = T))
sharks %>%
filter(month) %>%
summarise(sum_incidents = sum(incident_num))
sharks %>%
tabyl()
sharks %>%
ggplot(aes(x = county, y = incident_num, fill = county))+
geom_bar()+
sharks %>%
ggplot(aes(x = county, y = incident_num, fill = county))+
geom_bar()+
labs(title = "Incidents Per County")
sharks %>%
group_by(county, incident_num) %>%
ggplot(aes(x = county, y = incident_num, fill = county))+
geom_bar()+
labs(title = "Incidents Per County")
sharks <- sharks %>%
replace_with_na_all(condition = ~.x = "NOT COUNTED")
sharks <- sharks %>%
replace_with_na_all(condition = ~.x == "NOT COUNTED")
sharks %>%
group_by(county, incident_num) %>%
ggplot(aes(x = county, y = incident_num, fill = county))+
geom_bar()+
labs(title = "Incidents Per County")
View(sharks)
sharks %>%
group_by(county) %>%
summarise(total_incidents = sum(incident_num))
sharks %>%
group_by(county) %>%
summarise(total_incidents = sum(incident_num, na.rm = T))
sharks %>%
group_by(incident_num) %>%
summarise(total_incidents = sum(incident_num, na.rm = T))
sharks %>%
group_by(incident_num, na.rm = T) %>%
summarise(total_incidents = sum(incident_num, na.rm = T))
sharks %>%
group_by(county, na.rm = T)
sharks %>%
filter(county, incident_num)
sharks %>%
filter(as.factor(county), incident_num)
sharks %>%
select(county, incident_num)
sharks %>%
select(county, incident_num) %>%
group_by(county) %>%
summarise(total_incident = sum(incident_num, narm = T))
sharks %>%
select(county, incident_num) %>%
group_by(incident_num, na.rm = T) %>%
summarise(total_incident = sum(incident_num, narm = T))
sharks %>%
tabyl(incident_num)
sharks %>%
tabyl(county)
sharks %>%
select(mode, incident_num) %>%
group_by(mode) %>%
summarise(total_incidents = sum(incident_num, na.rm = T))
sharks %>%
select(mode, incident_num) %>%
group_by(incident_num) %>%
summarise(total_incidents = sum(incident_num, na.rm = T))
sharks %>%
as.integer(incident_num)
sharks %>%
as.integer("incident_num")
sharks %>%
as.integer(incident_num)
sharks %>%
as.integer(incident_num)
sharks %>%
select(county, incident_num) %>%
group_by(as.integer(incident_num), na.rm = T) %>%
summarise(total_incident = sum(incident_num, narm = T))
sharks %>%
select(county, incident_num) %>%
group_by(as.integer(incident_num), na.rm = T) %>%
summarise(total_incident = sum(incident_num, narm = T)) %>%
arrange(desc(total_incident))
sharks %>%
select(mode, incident_num) %>%
group_by(as.integer(incident_num)) %>%
summarise(total_incidents = sum(as.integer(incident_num), na.rm = T))
sharks %>%
select(mode, incident_num) %>%
group_by(as.integer(incident_num)) %>%
summarise(total_incidents = sum(as.integer(incident_num), na.rm = T)) %>%
arrange(desc(total_incidents))
sharks %>%
select(mode, incident_num) %>%
group_by(mode) %>%
summarise(total_incidents = sum(as.integer(incident_num), na.rm = T)) %>%
arrange(desc(total_incidents))
sharks %>%
select(month, incident_num) %>%
group_by(mode) %>%
summarise(total_incidents = sum(as.integer(incident_num), na.rm = T)) %>%
arrange(desc(total_incidents))
sharks %>%
select(month, incident_num) %>%
group_by(month) %>%
summarise(total_incidents = sum(as.integer(incident_num), na.rm = T)) %>%
arrange(desc(total_incidents))
sharks %>%
select(month, incident_num) %>%
group_by(month) %>%
summarise(total_incidents = sum(as.integer(incident_num), na.rm = T)) %>%
arrange(desc(total_incidents)) %>%
ggplot(aes(x= month, y = incident_num))+
geom_bar()
sharks %>%
select(month, incident_num) %>%
group_by(month) %>%
summarise(total_incidents = sum(as.integer(incident_num), na.rm = T)) %>%
arrange(desc(total_incidents)) %>%
ggplot(aes(x= month, y = incident_num))+
geom_col()
sharks %>%
select(month, incident_num) %>%
group_by(month) %>%
summarise(total_incidents = sum(as.integer(incident_num), na.rm = T)) %>%
arrange(desc(total_incidents)) %>%
ggplot(aes(x= month))+
geom_col()
white_sharks <- read_csv("data/White sharks tracked from Southeast Farallon Island, CA, USA, 1999 2004.csv", na = c("?", "n/a")) %>% clean_names()
glimpse(white_sharks)
View(white_sharks)
white_sharks %>%
filter(gender != "NA") %>%
count(total_length_cm)
white_sharks %>%
filter(sex != "NA") %>%
count(total_length_cm)
white_sharks %>%
filter(sex != "NA") %>%
group_by(sex, total_length_cm) %>%
summarise()
white_sharks %>%
filter(sex != "NA" | sex == "M") %>%
group_by(sex, total_length_cm) %>%
summarise(mean_males = mean(total_length_cm))
white_sharks %>%
filter(sex != "NA" & sex == "M") %>%
group_by(sex, total_length_cm) %>%
summarise(mean_males = mean(total_length_cm))
white_sharks %>%
filter(sex == "F") %>%
group_by(sex, total_length_cm) %>%
summarise(mean_females = mean(total_length_cm))
white_sharks %>%
filter(sex == "M") %>%
group_by(sex, total_length_cm) %>%
summarise(mean_females = mean(total_length_cm))
white_sharks %>%
filter(sex != "NA") %>%
group_by(sex, total_length_cm) %>%
summarise(mean_females = mean(total_length_cm))
white_sharks %>%
filter(sex == "F") %>%
group_by(sex) %>%
summarise(mean_females = mean(total_length_cm))
white_sharks %>%
filter(sex == "F" | sex == "M") %>%
group_by(sex) %>%
summarise(mean_females = mean(total_length_cm))
white_sharks %>%
filter(sex == "F" | sex == "M") %>%
group_by(sex) %>%
summarise(mean_sex = mean(total_length_cm))
white_sharks %>%
filter(sex == "F" | sex == "M") %>%
group_by(sex) %>%
summarise(mean_length = mean(total_length_cm))
white_sharks %>%
filter(sex == "F" | sex == "M") %>%
group_by(sex) %>%
summarise(mean_length = mean(total_length_cm)) %>%
ggplot(aes(x = sex, y = total_length_cm, fill = total_length_cm))+
geom_boxplot(na.rm = T)
white_sharks %>%
filter(sex == "F" | sex == "M", total_length_cm) %>%
group_by(sex) %>%
summarise(mean_length = mean(total_length_cm)) %>%
ggplot(aes(x = sex, y = total_length_cm, fill = total_length_cm))+
geom_boxplot(na.rm = T)
white_sharks %>%
filter(sex != "NA") %>%
ggplot(aes(x = sex, y = total_length_cm, fill = total_length_cm))+
geom_boxplot(na.rm = T)
white_sharks %>%
filter(sex != "NA") %>%
ggplot(aes(x = sex, y = total_length_cm, fill = total_length_cm))+
geom_boxplot(na.rm = T)+
labs(title = "Range of total length by Sex")
white_sharks %>%
filter(sex != "NA") %>%
ggplot(aes(x = sex, y = total_length_cm, fill = total_length_cm))+
geom_boxplot(na.rm = T)+
labs(title = "Range of Length by Sex")
sharks %>%
select(county, incident_num) %>%
group_by(as.integer(incident_num), na.rm = T) %>%
summarise(total_incident = sum(incident_num, na.rm = T)) %>%
arrange(desc(total_incident))
sharks %>%
select(county, incident_num) %>%
group_by(as.integer(incident_num), na.rm = T) %>%
summarise(total_incident = sum(as.integer(incident_num), na.rm = T)) %>%
arrange(desc(total_incident))
sharks %>%
ggplot(aes(x=injury))+
geom_density(fill="steelblue", color="black", alpha=0.6, na.rm=T)+
facet_wrap(~asa_status)+
labs(title="Type of Injury", x="Injury Type", y=NULL)+
theme_light()
sharks %>%
ggplot(aes(x=injury))+
geom_density(fill="steelblue", color="black", alpha=0.6, na.rm=T)+
facet_wrap(~incident_num)+
labs(title="Type of Injury", x="Injury Type", y=NULL)+
theme_light()
sharks %>%
ggplot(aes(x= injury))+
geom_density(fill="steelblue", color="black", alpha=0.6, na.rm=T)+
facet_wrap(~as.integer(incident_num))+
labs(title="Injuries by Activity", x="Injury Type", y=NULL)+
theme_light()
sharks %>%
ggplot(aes(x= injury))+
geom_col(fill="steelblue", color="black", alpha=0.6, na.rm=T)+
facet_wrap(~as.integer(incident_num))+
labs(title="Injuries by Activity", x="Injury Type", y=NULL)+
theme_light()
sharks %>%
ggplot(aes(x= injury, y = mode))+
geom_col()+
facet_wrap(~as.integer(incident_num))+
labs(title="Injuries by Activity", x="Injury Type", y=NULL)+
theme_light()
sharks %>%
ggplot(aes(x= injury, y = mode))+
geom_bar()+
facet_wrap(~as.integer(incident_num))+
labs(title="Injuries by Activity", x="Injury Type", y=NULL)+
theme_light()
white_sharks %>%
filter(sex == "F") %>%
group_by(sex) %>%
summarise(max_length = max(total_length_cm))
white_sharks %>%
filter(sex == "F") %>%
group_by(comment) %>%
summarise(max_length = max(total_length_cm))
sharks %>%
select(county, incident_num) %>%
group_by(county) %>%
summarise(total_incident = sum(as.integer(incident_num), na.rm = T)) %>%
arrange(desc(total_incident))
sharks %>%
select(county, incident_num) %>%
group_by(county) %>%
summarise(total_incident = sum(as.integer(incident_num), na.rm = T)) %>%
arrange(desc(total_incident)) %>%
ggplot(aes(x = county, y = total_incident))+
geom_bar()
sharks %>%
select(county, incident_num) %>%
group_by(county) %>%
summarise(total_incident = sum(as.integer(incident_num), na.rm = T)) %>%
arrange(desc(total_incident)) %>%
ggplot(aes(x = county, y = total_incident))+
geom_col()
sharks %>%
select(county, incident_num) %>%
group_by(county) %>%
summarise(total_incident = sum(as.integer(incident_num), na.rm = T)) %>%
arrange(desc(total_incident)) %>%
ggplot(aes(x = county, y = total_incident))+
geom_col()+
coord_flip()
sharks %>%
select(county, incident_num) %>%
group_by(county) %>%
summarise(total_incident = sum(as.integer(incident_num), na.rm = T)) %>%
arrange(desc(total_incident)) %>%
ggplot(aes(x = county, y = total_incident))+
geom_col()+
coord_flip()+
labs(title = "Incidents Per County")
sharks %>%
select(month, incident_num) %>%
group_by(month) %>%
summarise(total_incident = sum(as.integer(incident_num), na.rm = T)) %>%
arrange(desc(total_incident)) %>%
ggplot(aes(x = month, y = total_incident))+
geom_col()+
coord_flip()+
labs(title = "Incidents by Month")
sharks %>%
group_by(species) %>%
summarise(total_incidents = sum(as.integer(incident_num), na.rm = T)) %>%
arrange(desc(total_incidents))
sharks %>%
filter(species == "White")
group_by(injury) %>%
summarise(total_incidents = sum(as.integer(incident_num), na.rm = T)) %>%
arrange(desc(total_incidents))
sharks %>%
filter(species == "White")
group_by(injury)
names(sharks)
sharks %>%
filter(species == "White")
select(injury)
sharks %>%
select(injury)
filter(species == "White")
sharks %>%
select(injury, species)
filter(species == "White")
sharks %>%
select(injury, species)
filter(species == "White")
sharks %>%
select(injury, species, incident_num)
sharks %>%
select(injury, species, incident_num) %>%
filter(species=="White")
sharks %>%
select(injury, species, incident_num) %>%
filter(species=="White") %>%
ggplot(aes(x= injury, y= as.integer(incident_num)))
sharks %>%
select(injury, species, incident_num) %>%
filter(species=="White") %>%
ggplot(aes(x= injury, y= as.integer(incident_num)))+
geom_col()
sharks %>%
select(injury, species, incident_num) %>%
filter(species=="White") %>%
ggplot(aes(x= injury, y= as.integer(incident_num, na.rm= T)))+
geom_col()
sharks %>%
select(injury, species, incident_num) %>%
filter(species=="White", na.rm = T) %>%
ggplot(aes(x= injury, y= as.integer(incident_num, na.rm= T)))+
geom_col()
sharks %>%
select(injury, species, incident_num) %>%
filter(species=="White") %>%
ggplot(aes(x= injury, y= as.integer(incident_num, na.rm= T)))+
geom_col()
sharks %>%
select(injury, species, incident_num) %>%
filter(species=="White" | injury != "none*") %>%
ggplot(aes(x= injury, y= as.integer(incident_num, na.rm= T)))+
geom_col()
sharks %>%
select(injury, species, incident_num) %>%
filter(species=="White") %>%
ggplot(aes(x= injury, y= as.integer(incident_num, na.rm= T)))+
geom_col()
sharks %>%
select(injury, species, incident_num) %>%
filter(species=="White") %>%
ggplot(aes(x= injury, y= as.integer(incident_num, na.rm= T)))+
geom_col()+
labs(title = "Injury by Great White")
sharks %>%
select(injury, species, incident_num) %>%
filter(species=="White") %>%
ggplot(aes(x= injury, y= as.integer(incident_num, na.rm= T)))+
geom_col()+
labs(title = "Injury by Great White Sharks")
#sharks %>%
# ggplot(aes(x= injury, y = mode))+
# geom_bar()+
# facet_wrap(~as.integer(incident_num))+
#labs(title="Injuries by Activity", x="Injury Type", y=NULL)+
#theme_light()
sharks %>%
select(mode, incident_num, county) %>%
sharks %>%
select(mode, incident_num, county)
sharks %>%
select(mode, incident_num, county) %>%
filter(injury == "fatal")
sharks %>%
select(mode, incident_num, county) %>%
filter(injury == "fatal") %>%
group_by(county)
sharks %>%
select(mode, incident_num, county, injury) %>%
filter(injury == "fatal") %>%
group_by(county)
summarise(total_incident = sum(as.integer(incident_num), na.rm = T)) %>%
sharks %>%
select(mode, incident_num, county, injury) %>%
filter(injury == "fatal") %>%
group_by(county)
summarise(total_incident = sum(as.integer(incident_num), na.rm = T))
sharks %>%
select(mode, incident_num, county, injury) %>%
filter(injury == "fatal") %>%
group_by(county)
summarise(total_incident = sum(as.integer(incident_num), na.rm = T)) %>%
arrange(desc(total_incident))
sharks %>%
select(mode, incident_num, county, injury) %>%
filter(injury == "fatal") %>%
group_by(county) %>%
summarise(total_incident = sum(as.integer(incident_num), na.rm = T)) %>%
arrange(desc(total_incident))
sharks %>%
select(mode, incident_num, county, injury) %>%
filter(injury == "fatal") %>%
group_by(county, injury) %>%
summarise(total_incident = sum(as.integer(incident_num), na.rm = T)) %>%
arrange(desc(total_incident))
sharks %>%
select(mode, incident_num, county, injury) %>%
group_by(county, injury) %>%
summarise(total_incident = sum(as.integer(incident_num), na.rm = T)) %>%
arrange(desc(total_incident))
sharks %>%
select(mode, incident_num, county, injury) %>%
filter(injury == "fatal") %>%
group_by(county) %>%
summarise(total_incident = sum(as.integer(incident_num), na.rm = T)) %>%
arrange(desc(total_incident))
sharks %>%
select(mode, incident_num, county, injury) %>%
group_by(county, injury) %>%
summarise(total_incident = sum(as.integer(incident_num), na.rm = T)) %>%
arrange(desc(total_incident))
sharks %>%
select(mode, incident_num, county, injury) %>%
group_by(county, injury) %>%
summarise(total_incident = sum(as.integer(incident_num), na.rm = T)) %>%
arrange(desc(injury =="fatal"))
glimpse(sharks)
str(sharks)
View(sharks)
str(sharks)
